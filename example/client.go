package example

// Code generated by api2. DO NOT EDIT.

import (
	"context"
	"net/url"

	"github.com/starius/api2"
)

type Client struct {
	api2client *api2.Client
}

var _ IEchoService = (*Client)(nil)

func NewClient(baseURL string, opts ...api2.Option) (*Client, error) {
	if _, err := url.ParseRequestURI(baseURL); err != nil {
		return nil, err
	}
	routes := GetRoutes(nil)
	api2client := api2.NewClient(routes, baseURL, opts...)
	return &Client{
		api2client: api2client,
	}, nil
}

func (c *Client) Close() error {
	return c.api2client.Close()
}

func (c *Client) Hello(ctx context.Context, req *HelloRequest) (res *HelloResponse, err error) {
	res = &HelloResponse{}
	err = c.api2client.Call(ctx, res, req)
	if err != nil {
		return nil, err
	}
	return
}

func (c *Client) Echo(ctx context.Context, req *EchoRequest) (res *EchoResponse, err error) {
	res = &EchoResponse{}
	err = c.api2client.Call(ctx, res, req)
	if err != nil {
		return nil, err
	}
	return
}

func (c *Client) Since(ctx context.Context, req *SinceRequest) (res *SinceResponse, err error) {
	res = &SinceResponse{}
	err = c.api2client.Call(ctx, res, req)
	if err != nil {
		return nil, err
	}
	return
}

func (c *Client) StreamBody(ctx context.Context, req *StreamRequest) (res *StreamResponse, err error) {
	res = &StreamResponse{}
	err = c.api2client.Call(ctx, res, req)
	if err != nil {
		return nil, err
	}
	return
}
